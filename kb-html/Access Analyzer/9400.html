<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error: HTTP 400 Bad Request: Request Header Too Long</title>
    <meta name="former_brand" content="f_stealthbits">
    <meta name="product" content="enterprise_auditor">
    <meta name="ArticleCaseAttachCount" content="0">
    <meta name="ArticleCreatedById" content="005Qk000001wMM9IAM">
    <meta name="ArticleCreatedDate" content="2025-02-11T15:48:18.000Z">
    <meta name="Article_Drafts_Folder__c" content="nan">
    <meta name="Article_Reviewer__c" content="nan">
    <meta name="Article_SME__c" content="nan">
    <meta name="Article_Version_Origin__c" content="nan">
    <meta name="Asana_Task_URL__c" content="https://app.asana.com/0/1203106155380297/1209378183184406">
    <meta name="AssignedById" content="nan">
    <meta name="AssignedToId" content="nan">
    <meta name="AssignmentDate" content="nan">
    <meta name="AssignmentDueDate" content="nan">
    <meta name="AssignmentNote" content="nan">
    <meta name="Case__c" content="500Qk00000IoK1JIAV">
    <meta name="Confidence_Level__c" content="Not Validated">
    <meta name="CreatedById" content="005Qk000001wMM9IAM">
    <meta name="CreatedDate" content="2025-03-04T15:37:17.000Z">
    <meta name="Draft_Status__c" content="Ready to Publish">
    <meta name="FirstPublishedDate" content="2025-03-04T15:24:14.000Z">
    <meta name="IsLatestVersion" content="True">
    <meta name="KnowledgeArticleId" content="kA0Qk00000020ITKAY">
    <meta name="Knowledge_Article_ID__c" content="kA0Qk00000020ITKAY">
    <meta name="LastModifiedById" content="005Qk000001wMM9IAM">
    <meta name="LastModifiedDate" content="2025-03-04T16:42:50.000Z">
    <meta name="LastPublishedDate" content="2025-03-04T15:24:14.000Z">
    <meta name="Meta_Description__c" content="Request Header Too Long">
    <meta name="Meta_Title__c" content="Request Header Too Long">
    <meta name="OwnerId" content="0054u000006goLGAAY">
    <meta name="PublishStatus" content="Online">
    <meta name="RecordTypeId" content="0124u000000UUgLAAW">
    <meta name="UrlName" content="9400">
    <meta name="VersionNumber" content="1">
    <meta name="Website_URL__c" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA0Qk00000020ITKAY.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Error: HTTP 400 Bad Request: Request Header Too Long</h1>
    <h2>Symptom</h2>
<div>
<p>When attempting to use SSO for the <strong>Published Reports</strong> web console (port 8082), you encounter the following error:</p>
<pre class="has-inner-focus">HTTP 400 Bad Request (Request Header too long) responses to HTTP requests
  </pre>
</div>
<h2>Cause</h2>
<div>
<p>This issue may occur if the user is a member of many Active Directory user groups.</p>
<p>The HTTP request to the server contains the Kerberos token in the <code>WWW-Authenticate</code> header. The header size increases together with the number of user groups. If the HTTP header or packet size increases past the limits configured on the server, the server may reject the request and send an error message as the response.</p>
</div>
<h2>Resolution</h2>
<div>
<p>To resolve this error, follow the steps below:</p>
<ol><li>
<p>For IIS 6.0 and later, the <code>MaxFieldLength</code> and <code>MaxRequestBytes</code> registry keys are located at the following subkey:</p>
<ul><li>
<p><code>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\HTTP\Parameters</code></p>
</li></ul>
</li><li>
<p>Set the key values as shown in the following table:</p>
<table style="border: 1px solid black;border-collapse: collapse;width: 100%;"><thead><tr style="border: 1px solid black;"><th colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">Name</th><th colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">Value Type</th><th colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">Value Data</th></tr></thead><tbody><tr style="border: 1px solid black;"><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">MaxFieldLength</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">DWORD</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">(4/3 * T bytes) + 200</td></tr><tr style="border: 1px solid black;"><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">MaxRequestBytes</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">DWORD</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">(4/3 * T bytes) + 200</td></tr></tbody></table>
  </li><li>
<p>You can also set the registry keys to their maximum values, as shown in the table below. Consider all potential security ramifications before making any changes to the registry settings:</p>
<table style="border: 1px solid black;border-collapse: collapse;width: 100%;"><thead><tr style="border: 1px solid black;"><th colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">Name</th><th colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">Value Type</th><th colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">Value Data</th></tr></thead><tbody><tr style="border: 1px solid black;"><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">MaxFieldLength</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">DWORD</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">65536 (Decimal) or 10000 (Hexadecimal)</td></tr><tr style="border: 1px solid black;"><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">MaxRequestBytes</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">DWORD</td><td colspan="1" rowspan="1" style="border: 1px solid black;padding: 8px;">16777216 (Decimal) or 1000000 (Hexadecimal)</td></tr></tbody></table>
</li></ol>
<p>For detailed information on this error message, refer to the full Microsoft documentation: <a href="https://learn.microsoft.com/en-us/troubleshoot/developer/webapps/iis/www-authentication-authorization/http-bad-request-response-kerberos#workaround-1-decrease-the-number-of-active-directory-groups" target="_blank"> Troubleshooting HTTP 400 Bad Request Responses  Microsoft &#129125;</a>.</p>
</div>
<h2>Related Article</h2>
<div>
<ul><li><a href="https://learn.microsoft.com/en-us/troubleshoot/developer/webapps/iis/www-authentication-authorization/http-bad-request-response-kerberos#workaround-1-decrease-the-number-of-active-directory-groups" target="_blank"> Troubleshooting HTTP 400 Bad Request Responses  Microsoft &#129125;</a></li></ul>
</div>
</body>
</html>