<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotfix: SIEntManager_7.3.5.154</title>
    <meta name="visibility" content="employees_v">
    <meta name="product" content="threat_prevention">
    <meta name="ArticleCaseAttachCount" content="0">
    <meta name="ArticleCreatedById" content="0054u000006RPEQAA4">
    <meta name="ArticleCreatedDate" content="2022-03-04T20:23:45.000Z">
    <meta name="Article_Drafts_Folder__c" content="nan">
    <meta name="Article_Reviewer__c" content="nan">
    <meta name="Article_SME__c" content="nan">
    <meta name="Article_Version_Origin__c" content="nan">
    <meta name="Asana_Task_URL__c" content="nan">
    <meta name="AssignedById" content="nan">
    <meta name="AssignedToId" content="nan">
    <meta name="AssignmentDate" content="nan">
    <meta name="AssignmentDueDate" content="nan">
    <meta name="AssignmentNote" content="nan">
    <meta name="Case__c" content="nan">
    <meta name="Confidence_Level__c" content="nan">
    <meta name="CreatedById" content="0054u000006RPEQAA4">
    <meta name="CreatedDate" content="2023-05-08T10:18:44.000Z">
    <meta name="Draft_Status__c" content="nan">
    <meta name="FirstPublishedDate" content="2022-03-04T20:23:50.000Z">
    <meta name="IsLatestVersion" content="True">
    <meta name="KnowledgeArticleId" content="kA04u0000000JupCAE">
    <meta name="Knowledge_Article_ID__c" content="kA04u0000000JupCAE">
    <meta name="LastModifiedById" content="0054u000006gSmgAAE">
    <meta name="LastModifiedDate" content="2023-05-08T10:18:44.000Z">
    <meta name="LastPublishedDate" content="2022-03-10T19:54:37.000Z">
    <meta name="Meta_Description__c" content="automated failover of SI Enterprise Manager">
    <meta name="Meta_Title__c" content="Hotfix: SIEntManager_7.3.5.154">
    <meta name="OwnerId" content="0054u000006RPEQAA4">
    <meta name="PublishStatus" content="Online">
    <meta name="RecordTypeId" content="0124u000000UUgLAAW">
    <meta name="UrlName" content="8387">
    <meta name="VersionNumber" content="2">
    <meta name="Website_URL__c" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000JupCAE.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Hotfix: SIEntManager_7.3.5.154</h1>
    <span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Summary: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Bug 85640: 00330364 - automated failover of SI Enterprise Manager</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Behavior before Fix: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">EM reads Server table only at startup. Then with 5 minutes interval it will delete all entries from the Server table and will insert those which are known by this instance of EM. Therefore, if there is more than one instance of EM is running then there is no way for other instance to know Agents from the first instance.</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">As a result - when Agent switches to a different EM instance then there is a risk that this Agent will be unable to communicate with this instance because it is unknow for this instance because there is no information about Agent certificate.</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Behavior after Fix: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Every time before EM tries to re-insert data into Server table it will get all entries from this table with nonempty certificate thumbprint value and merges this information into the in-memory list of servers using the following logic:</span></span></span></span></span>
<ol><li style="margin-left: 8px;"><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">If there is already an entry with this certificate thumbprint then ignore it.</span></span></span></span></span></li><li style="margin-left: 8px;"><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">If there is already an entry with the same server name but certificate thumbprint is empty then use certificate thumbprint value from the Server table.</span></span></span></span></span></li><li style="margin-left: 8px;"><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">If there is no entry with such certificate thumbprint and server name, then add this entry.</span></span></span></span></span></li></ol>
<span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><b>Changes since Last Hotfix:</b></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Bug 85640: 00330364 - automated failover of SI Enterprise Manager</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Submitted by: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Maxim Sidarau   </span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Affected Versions:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">7.3.5.153 and older</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Affected Module:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">SI - Enterprise Manager</span></span><strong> </strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Dev Ticket:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">85640</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Resolved in Version:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">7.3.5.154</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">KB Type: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Hotfix</span></span></span></span><br><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><b>Modules Included: </b>SI - Enterprise Manager</span></span><strong> </strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><b>Escalations: </b><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">00330364</span></span></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><b>Cumulative List of fixes included since Service Pack:</b></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><strong><span style="">Instructions:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span style=""><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Upgrade SI Enterprise Manager to new version using SI Server installer </span></span></span></span></span><br> 
</body>
</html>