<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving the PostgreSQL Data Directory (PgDataDir) to a New Location</title>
    <meta name="product" content="privilege_secure">
    <meta name="ArticleCaseAttachCount" content="0">
    <meta name="ArticleCreatedById" content="0054u000006gXu5AAE">
    <meta name="ArticleCreatedDate" content="2022-01-24T22:35:55.000Z">
    <meta name="Article_Drafts_Folder__c" content="nan">
    <meta name="Article_Reviewer__c" content="nan">
    <meta name="Article_SME__c" content="nan">
    <meta name="Article_Version_Origin__c" content="nan">
    <meta name="Asana_Task_URL__c" content="nan">
    <meta name="AssignedById" content="nan">
    <meta name="AssignedToId" content="nan">
    <meta name="AssignmentDate" content="nan">
    <meta name="AssignmentDueDate" content="nan">
    <meta name="AssignmentNote" content="nan">
    <meta name="Case__c" content="nan">
    <meta name="Confidence_Level__c" content="nan">
    <meta name="CreatedById" content="0054u000006gXu5AAE">
    <meta name="CreatedDate" content="2023-05-08T09:57:53.000Z">
    <meta name="Draft_Status__c" content="nan">
    <meta name="FirstPublishedDate" content="2022-01-25T21:58:21.000Z">
    <meta name="IsLatestVersion" content="True">
    <meta name="KnowledgeArticleId" content="kA04u0000000HjaCAE">
    <meta name="Knowledge_Article_ID__c" content="kA04u0000000HjaCAE">
    <meta name="LastModifiedById" content="0054u000006gSmgAAE">
    <meta name="LastModifiedDate" content="2023-05-08T09:57:53.000Z">
    <meta name="LastPublishedDate" content="2022-01-27T17:17:16.000Z">
    <meta name="Meta_Description__c" content="Moving the PostgreSQL Data Directory (PgDataDir) to a New Location">
    <meta name="Meta_Title__c" content="Moving the PostgreSQL Data Directory (PgDataDir) to a New Location">
    <meta name="OwnerId" content="0054u000006gXu5AAE">
    <meta name="PublishStatus" content="Online">
    <meta name="RecordTypeId" content="0124u000000UUgLAAW">
    <meta name="UrlName" content="5942">
    <meta name="VersionNumber" content="2">
    <meta name="Website_URL__c" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000HjaCAE.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Moving the PostgreSQL Data Directory (PgDataDir) to a New Location</h1>
    <h1>Summary</h1>
This article outlines the steps required for moving an installed SbPAM PostgreSQL data directory (PgDataDir) to a new location. In a High Availability (HA) pair, this needs to be done on each server separately.

<h1>Instructions</h1>
<b>1. </b>While SbPAM is not in use, stop the service <b>postgresql-x64-12 - PostgreSQL Server 12</b> in the <b>Windows Services</b> menu (<b>services.msc</b>).<br><br><b>2. </b>Open the Windows Registry and navigate to:<br> 
<pre class="ckeditor_codeblock">
Computer\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\postgresql-x64-12</pre>
<br>Customize the value of <b>ImagePath</b> to reflect the data directory&#39;s new location. It&#39;s important to note only the path between quotes after <b>-D</b> should be customized, as this is the path to the database.<br><br><b>3. </b>In the Windows Registry navigate to:<br> 
<pre class="ckeditor_codeblock">
Computer\HKEY_LOCAL_MACHINE\SOFTWARE\PostgreSQL\Services\postgresql-x64-12 </pre>
<br>Customize the value of <b>Data Directory</b> to reflect the data directory&#39;s new location.<br><br><b>4. </b>In the Windows Registry navigate to:<br> 
<pre class="ckeditor_codeblock">
Computer\HKEY_LOCAL_MACHINE\SOFTWARE\PostgreSQL\Installations\postgresql-x64-12 </pre>
<br>Customize the value of <b>Data Directory</b> to reflect the data directory&#39;s new location.<br><br><b>5. </b>You can now move the PostgreSQL data directory to its new location, which should be the same path specified in the previous steps.<br><br><span style="color: #c0392b;"><i><b>IMPORTANT: </b>It&#39;s recommended to make a backup of the PostgreSQL data directory before making manual modifications, moving it, etc.</i></span><br><br><b>6. </b>Once the PostgreSQL data directory has been moved, start the service <b>postgresql-x64-12 - PostgreSQL Server 12</b> in the <b>Windows Services</b> menu (<b>services.msc</b>).<br><br><span style="color: #c0392b;"><i><b>IMPORTANT: </b>After moving the database to a new location, it&#39;s recommended to add the Network Service account to the new folder&#39;s Access Control List (ACL).</i></span><br><br><b>7.</b> Verify you can log-in to SbPAM per normal workflow, navigate the UI, provision sessions, etc. If everything seems normal, then the process is complete.??????
</body>
</html>