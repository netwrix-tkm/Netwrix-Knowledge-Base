<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotfix: SA_8.1_145</title>
    <meta name="visibility" content="employees_v">
    <meta name="ArticleCaseAttachCount" content="0">
    <meta name="ArticleCreatedById" content="0054u000006god6AAA">
    <meta name="ArticleCreatedDate" content="2022-02-01T18:25:13.000Z">
    <meta name="Article_Drafts_Folder__c" content="nan">
    <meta name="Article_Reviewer__c" content="nan">
    <meta name="Article_SME__c" content="nan">
    <meta name="Article_Version_Origin__c" content="nan">
    <meta name="Asana_Task_URL__c" content="nan">
    <meta name="AssignedById" content="nan">
    <meta name="AssignedToId" content="nan">
    <meta name="AssignmentDate" content="nan">
    <meta name="AssignmentDueDate" content="nan">
    <meta name="AssignmentNote" content="nan">
    <meta name="Case__c" content="nan">
    <meta name="Confidence_Level__c" content="nan">
    <meta name="CreatedById" content="0054u000006god6AAA">
    <meta name="CreatedDate" content="2023-05-08T10:04:31.000Z">
    <meta name="Draft_Status__c" content="nan">
    <meta name="FirstPublishedDate" content="2022-02-01T18:25:17.000Z">
    <meta name="IsLatestVersion" content="True">
    <meta name="KnowledgeArticleId" content="kA04u0000000IEuCAM">
    <meta name="Knowledge_Article_ID__c" content="kA04u0000000IEuCAM">
    <meta name="LastModifiedById" content="0054u000006gSmgAAE">
    <meta name="LastModifiedDate" content="2023-05-08T10:04:31.000Z">
    <meta name="LastPublishedDate" content="2022-02-01T18:25:17.000Z">
    <meta name="Meta_Description__c" content="360012217852">
    <meta name="Meta_Title__c" content="Hotfix: SA_8.1_145">
    <meta name="OwnerId" content="0054u000006god6AAA">
    <meta name="PublishStatus" content="Online">
    <meta name="RecordTypeId" content="0124u000000UUgLAAW">
    <meta name="UrlName" content="6729">
    <meta name="VersionNumber" content="1">
    <meta name="Website_URL__c" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000IEuCAM.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Hotfix: SA_8.1_145</h1>
    <p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> Fix to remove constraints when using the patches table.  This should help resolve some errors when upgrading SQL Dc versions.</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Summary:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Fix to remove constraints when using the patches table.  This should help resolve some errors when upgrading SQL Dc versions.</span></strong></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Behavior Before Fix: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">When running a SQL job after an upgrade, SA attempts to determine the patch level and apply any patch scripts that the SA console doesn&#39;t have.  Without this fix, some users may see this debug message in the logs:</span></span></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">&quot;Failed to apply patch &#39;SqlServer&#39; v2: System.Exception: Error while running script: System.Data.SqlClient.SqlException (0x80131904): The object &#39;PK_SA_SQLServer_PermissionNames&#39; is dependent on column &#39;type&#39;.  The object &#39;UQ_SA_SQLServer_PermissionNames_Type&#39; is dependent on column &#39;type&#39;.</span></span></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span><span style="color: #404040;">This may cause some issues later in the scan like disconnects, or missing column errors, and could be the cause of some invalid operation errors.</span></span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Behavior After Fix: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">Scripting in new version will remove constraints on some of the tables SA needs to update allowing for all of the patches to by applied before a scan. </span></span></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Submitted by: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Rob Evert</span></strong></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Affected Versions:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>8.1</span></strong></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Affected Module:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span style="font-family: Calibri,sans-serif;">SA - DC - SQL</span></span><br><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Dev Ticket: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>SAT-5400 SQL error after applying Hotfix-SA-8-1-138</span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>Resolved in Version:</span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>DCSQL.dll 8.1.311</span></strong></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>KB Type: </span></strong></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><i><span><span style="color: #404040;">Bug</span></span></i></strong></span></span></span><br><br><span style="font-size: 28pt;"><span><span><strong><span style="font-size: 11pt;"><span><span>Modules Included</span></span></span></strong></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">StealthAUDIT.exe                                                                                        8.1.848</span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">/DC</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -DCSQL.dll                                                                                                    8.1.310</span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">/Private Assemblies</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Dapper.FluentMap.dll                                                                             1.6.0</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Ninject.dll                                                                                                   3.3.3</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -SAJobEngine.dll                                                                                        8.1.320</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.PowerShell.Common.dll                                                    8.1.46</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.PowerShell.dll                                                                      8.1.46</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.PowerShell.Server.exe                                                       8.1.46</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.ActionManager.dll                                    8.1.51</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataAnalysis.SqlScript.Core.dll              8.1.61</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.dll                                     8.1.59</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.PowerShell.dll               8.1.47</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.PowerShell.UI.dll          8.1.47</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.SQL.Common.dll           8.1.311</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.SQL.dll                             8.1.311</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.SQL.SQLServer.dll         8.1.311</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.dll                        8.1.311</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.SqlServer.dll  8.1.311</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.JobChanges.dll                                           8.1.11</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.Reporting.dll                                              8.1.210</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -Stealthbits.StealthAUDIT.RoleBasedAccess.dll                                 8.1.40</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">/Jobs</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> /GROUP_SQL</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  /GROUP_0.Collection</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   -Description</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   -GROUP_0.Collection</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   /JOB_0-SQL_InstanceDiscovery</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -ActionsTasks.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -DataAnalysisTasks.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.htm</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -JOB_0-SQL_InstanceDiscovery.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   /JOB_1-SQL_ActivityScan</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -ActionsTasks.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -DataAnalysisTasks.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.htm</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -JOB_1-SQL_ActivityScan.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Storage.ini</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   /JOB_1-SQL_PermissionsScan</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -ActionsTasks.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -DataAnalysisTasks.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.htm</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -JOB_1-SQL_PermissionsScan.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   /JOB_1-SQL_SensitiveDataScan</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -ActionsTasks.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -DataAnalysisTasks.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.htm</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -JOB_1-SQL_SensitiveDataScan.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   /JOB_1-SQL_ServerLogons</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -DataAnalysisTasks.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.htm</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -JOB_1-SQL_ServerLogons.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    /Output</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">     -Placeholder.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">   /JOB_1-SQL_ServerSettings</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -ActionsTasks.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -DataAnalysisTasks.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.htm</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Description.txt</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -JOB_1-SQL_ServerSettings.XML</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -RUNSTATS.INI</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -RUNSTATS_PREV.INI</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -Storage.ini</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -VIEW_Configuration_Details.INI.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -VIEW_Messages.INI.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    -VIEW_Server_Details.INI.xml</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">    /Output</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">     -Placeholder.txt</span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">/SP</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -SPSQLServer.DLL                                                                                       8.1.93</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> /SQLScripts</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -21_SaFixHostStatus.proc</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -25_CleanupAndCompactJobLogs.proc</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -EffectiveMembership.proc</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -OneDcPerDomain.func</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -OneGcPerDomain.func</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -ProcessingHostListsTblTable.sql</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -ProcessingMessagesTable.sql</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -ProcessingSqlInstancesTable.sql</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">  -SQLSchema.xml</span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">/Templates</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> /*</span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;">/Web</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -WebModules.dll                                                                                                      8.1.18</span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"> -WebServer.exe                                                                                                         8.1.7     </span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><b>Customers</b></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">American Fidelity Assurance, Phillips &amp; Cohen Associates, Ltd, Altria Client Services, LLC</span></span></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><b>Cumulative List of fixes included since Service Pack:</b></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>-SAT-4821 Invalid Column name &#39;last_Scanned&#39; upgrading from 8.1 to 8.3 </span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>-SAT-3364  Fix for case sensitive Server Collation</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-3406  Remove query error from Instance removal utility</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-3311  Databases with locale id other than &#39;1033&#39; cause error</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-2905  SQL DC: Impersonation Issues </span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-2779  Permissions / SDD will not work if the instance contains an offline db</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-2619  SQL SDD: UAC for File Operations causes scan failure</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-3143  SQL DC Uses Connection account to connect to SMP database</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-3532  SQL DC Custom queries not correctly handling columns names with spaces</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-3876  Sensitive Data and Permissions jobs blocking other SPIDs</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-4495  File not found error during SQL SEEK</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-4487  Backport SA 8.2 changes - refactored SQL DC and SQL UI</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-4462  SQL solution set reports contains deleted users</span></span></span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;"><span style="font-size: 11pt;"><span><span>- SAT-4549  Fix for SQL Server Audit Collection when Domain Groups are added as a SQL login</span></span></span></span></span></span></span></span><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><span class="MsoSubtleEmphasis" style="color: #404040;"><span style="font-style: italic;">- SAT-4726  Fix Local Logged-on credentials being improperly used for SQL connections when credentials in the connection profile is denied access.</span></span></span></span></span><br><br><span style="font-size: 28pt;"><span><span><strong><span style="font-size: 11pt;"><span><span>YouTrack/Escalations</span></span></span></strong></span></span></span><br><br><span style="font-size: 11pt;"><span><span style="font-family: Calibri,sans-serif;"><strong><span>SAT-4821/33988,34055,30961</span></strong></span></span></span><br> </p><p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> <span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>1. Unblock the hotfix zip file in the windows property dialog if an unblock button exists there. </span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>2. Close all instances of StealthAUDIT (check task manager under processes for all users)</span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>3. Exit StealthAUDIT console</span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>4. Copy and replace files from the included folder into SA Install dir.</span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>5. Open the properties of the StealthAUDIT\Jobs\GROUP_SQL\GROUP_0.Collection folder and unset read-only to the contents of the folder, subfolders and files.</span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>6. Clear / Delete directory C:\Program Files (x86)\STEALTHbits\StealthAUDITV5\Applet\Powershell on Target server, if that folder exists.</span></span></span></span></span></span><br><span style="font-size: 28pt;"><span><span><span style="font-size: 11pt;"><span><span>7. If access errors appear on SA start, using the unregister and register DLL scripts found in the SA install DIR should remove the issue.</span></span></span></span></span></span><br><br>  
</p><table style="width: 48pt;" width="64"><colgroup><col style="width: 48pt;" width="64"></col></colgroup><tbody><tr style="height: 57.6pt;" height="77"><td colspan="1" rowspan="1" class="xl65" style="height: 57.6pt;width: 48pt;white-space: nowrap;text-align: left;" height="77" width="64"><span style="font-size: 11pt;"><span style="color: blue;"><span style="text-decoration: underline;"><span style="font-weight: 400;"><span style="font-style: normal;"><span style="font-family: Calibri,sans-serif;"><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_145.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_145.zip</a></span></span></span></span></span></span></td></tr></tbody></table><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - SQL<br><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 8.1<br><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAT-4726
SAT-5400
SAT-4821<br><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> StealthAUDIT.exe						8.1.848

/DC
 -DCSQL.dll  							8.1.310

/Private Assemblies
 -Dapper.FluentMap.dll   					1.6.0
 -Ninject.dll   							3.3.3
 -SAJobEngine.dll   						8.1.320
 -Stealthbits.PowerShell.Common.dll   				8.1.46
 -Stealthbits.PowerShell.dll   					8.1.46
 -Stealthbits.PowerShell.Server.exe   				8.1.46
 -Stealthbits.StealthAUDIT.ActionManager.dll   			8.1.51
 -Stealthbits.StealthAUDIT.DataAnalysis.SqlScript.Core.dll   	8.1.61
 -Stealthbits.StealthAUDIT.DataCollectors.dll   			8.1.59
 -Stealthbits.StealthAUDIT.DataCollectors.PowerShell.dll   	8.1.47
 -Stealthbits.StealthAUDIT.DataCollectors.PowerShell.UI.dll   	8.1.47
 -Stealthbits.StealthAUDIT.DataCollectors.SQL.Common.dll   	8.1.311
 -Stealthbits.StealthAUDIT.DataCollectors.SQL.dll   		8.1.311
 -Stealthbits.StealthAUDIT.DataCollectors.SQL.SQLServer.dll   	8.1.311
 -Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.dll   		8.1.311
 -Stealthbits.StealthAUDIT.DataCollectors.SQL.UI.SqlServer.dll  8.1.311
 -Stealthbits.StealthAUDIT.JobChanges.dll   			8.1.11
 -Stealthbits.StealthAUDIT.Reporting.dll   			8.1.210
 -Stealthbits.StealthAUDIT.RoleBasedAccess.dll   		8.1.40
/Jobs
 /GROUP_SQL
  /GROUP_0.Collection
   -Description
   -GROUP_0.Collection
   /JOB_0-SQL_InstanceDiscovery
    -ActionsTasks.xml
    -DataAnalysisTasks.XML
    -Description.htm
    -Description.txt
    -JOB_0-SQL_InstanceDiscovery.XML
   /JOB_1-SQL_ActivityScan
    -ActionsTasks.xml
    -DataAnalysisTasks.XML
    -Description.htm
    -Description.txt
    -JOB_1-SQL_ActivityScan.XML
    -Storage.ini
   /JOB_1-SQL_PermissionsScan
    -ActionsTasks.xml
    -DataAnalysisTasks.XML
    -Description.htm
    -Description.txt
    -JOB_1-SQL_PermissionsScan.XML
   /JOB_1-SQL_SensitiveDataScan
    -ActionsTasks.xml
    -DataAnalysisTasks.XML
    -Description.htm
    -Description.txt
    -JOB_1-SQL_SensitiveDataScan.XML
   /JOB_1-SQL_ServerLogons
    -DataAnalysisTasks.XML
    -Description.htm
    -Description.txt
    -JOB_1-SQL_ServerLogons.XML
    /Output
     -Placeholder.txt
   /JOB_1-SQL_ServerSettings
    -ActionsTasks.xml
    -DataAnalysisTasks.XML
    -Description.htm
    -Description.txt
    -JOB_1-SQL_ServerSettings.XML
    -RUNSTATS.INI
    -RUNSTATS_PREV.INI
    -Storage.ini
    -VIEW_Configuration_Details.INI.xml
    -VIEW_Messages.INI.xml
    -VIEW_Server_Details.INI.xml
    /Output
     -Placeholder.txt

/SP
 -SPSQLServer.DLL			      			8.1.93
 /SQLScripts
  -21_SaFixHostStatus.proc
  -25_CleanupAndCompactJobLogs.proc
  -EffectiveMembership.proc
  -OneDcPerDomain.func
  -OneGcPerDomain.func
  -ProcessingHostListsTblTable.sql
  -ProcessingMessagesTable.sql
  -ProcessingSqlInstancesTable.sql
  -SQLSchema.xml

/Templates
 /*

/Web
 -WebModules.dll 							8.1.18
 -WebServer.exe							8.1.7<br><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 2401<br></p>
</body>
</html>