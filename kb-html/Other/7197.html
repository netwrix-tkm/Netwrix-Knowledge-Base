<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Action Modules</title>
    <meta name="visibility" content="employees_v">
    <meta name="ArticleCaseAttachCount" content="0">
    <meta name="ArticleCreatedById" content="0054u000006god6AAA">
    <meta name="ArticleCreatedDate" content="2022-02-01T18:33:43.000Z">
    <meta name="Article_Drafts_Folder__c" content="nan">
    <meta name="Article_Reviewer__c" content="nan">
    <meta name="Article_SME__c" content="nan">
    <meta name="Article_Version_Origin__c" content="nan">
    <meta name="Asana_Task_URL__c" content="nan">
    <meta name="AssignedById" content="nan">
    <meta name="AssignedToId" content="nan">
    <meta name="AssignmentDate" content="nan">
    <meta name="AssignmentDueDate" content="nan">
    <meta name="AssignmentNote" content="nan">
    <meta name="Case__c" content="nan">
    <meta name="Confidence_Level__c" content="nan">
    <meta name="CreatedById" content="0054u000006god6AAA">
    <meta name="CreatedDate" content="2023-05-08T10:11:51.000Z">
    <meta name="Draft_Status__c" content="nan">
    <meta name="FirstPublishedDate" content="2022-02-01T18:33:44.000Z">
    <meta name="IsLatestVersion" content="True">
    <meta name="KnowledgeArticleId" content="kA04u0000000IpyCAE">
    <meta name="Knowledge_Article_ID__c" content="kA04u0000000IpyCAE">
    <meta name="LastModifiedById" content="0054u000006gSmgAAE">
    <meta name="LastModifiedDate" content="2023-05-08T10:11:51.000Z">
    <meta name="LastPublishedDate" content="2022-02-01T18:33:44.000Z">
    <meta name="Meta_Description__c" content="360008408371">
    <meta name="Meta_Title__c" content="Action Modules">
    <meta name="OwnerId" content="0054u000006god6AAA">
    <meta name="PublishStatus" content="Online">
    <meta name="RecordTypeId" content="0124u000000UUgLAAW">
    <meta name="UrlName" content="7197">
    <meta name="VersionNumber" content="1">
    <meta name="Website_URL__c" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000IpyCAE.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Action Modules</h1>
    <p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> Source table data requirements for action modules</p>
<p><strong><span class="wysiwyg-font-size-large">Issue: The source table has specific requirements prior to running successfully:</span></strong></p>
<p><br><span class="wysiwyg-font-size-medium" style="color: #203864;"><strong>When using action modules in StealthAUDIT, </strong></span><strong><span style="color: #c00000;"><span class="wysiwyg-font-size-medium">assume the action module will run against the entire source table.</span><br>Always filter the rows you want to execute against into a new table before targeting.  </span></strong></p>
<p><br><strong><span style="color: #203864;">Do not rely on the scoping mechanism in the action properties page (filtering on the source table in the window pane).</span></strong></p>
<p><br><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong>  <strong><span style="color: #1f3864;"><span style="font-size: 16pt;">Configuration</span></span></strong></p>
<div style="margin-left: 40px;"><strong><span style="color: #1f3864;">Connection Profile Support</span></strong></div>
<div style="margin-left: 80px;">
<span style="color: #1f3864;">Active Directory</span><br><span style="color: #1f3864;">File System</span><br><span style="color: #1f3864;">Registry</span>
</div>
<p> </p>
<div style="margin-left: 40px;"><strong><span style="color: #1f3864;"><span style="font-size: 12pt;">Required Columns</span></span></strong></div>
<div style="margin-left: 40px;">
<span style="color: #1f3864;">All actions, except the AD action module, require certain columns to be present in the source table.  </span><br><span style="color: #1f3864;">This requirement comes from columns that would be generated by a StealthAUDIT data collection (native data table).  </span>
</div>
<div style="margin-left: 80px;"> <br><strong><span style="color: #1f3864;">Host</span></strong><br><span style="color: #1f3864;">Name of the target server</span><br><strong><span style="color: #1f3864;">SA_HOST</span></strong><br><span style="color: #1f3864;">This column determines which StealthAUDIT server the data belongs to, if there are multiple SA consoles connected to a single database.  We usually don&#39;t recommend that, but the functionality exists.  </span><br><strong><span style="color: #1f3864;">JobRunTimeKey</span></strong><br><span style="color: #1f3864;">Contains the date and time when a the job was run.  If history is turned on, this allows StealthAUDIT to identify data collected during a specific collection execution.  </span><br><strong><span style="color: #1f3864;">rowGUID</span></strong><br><span style="color: #1f3864;">This is a GUID used to identify each data row as unique.  The datatype in the table is uniqueidentifier (GUID).  </span><br><strong><span style="color: #1f3864;">RowKey</span></strong><br><span style="color: #1f3864;">This is also used to identify each data row as unique.  Sometimes the value is a GUID, but the datatype in the table is a varchar (text string).  </span>
</div>
<p> </p>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;">Manual Table Creation </span></strong><br><span style="color: #1f3864;">                The table definition for the required columns is:</span>
</div>
<div style="margin-left: 160px;">
<span style="color: #1f3864;">[HOST] [varchar](64) NOT NULL, </span><br><span style="color: #1f3864;">[SA_HOST] [varchar](64) NOT NULL,</span><br><span style="color: #1f3864;">[JobRunTimeKey] [smalldatetime] NULL,</span><br><span style="color: #1f3864;">[rowGUID] [uniqueidentifier] NOT NULL,</span><br><span style="color: #1f3864;">[ROWKEY] [varchar](1024) NULL</span>
</div>
<p> </p>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;">Adding to a SQL Script</span></strong><br><span style="color: #1f3864;">                You can use this as a template to add any of the missing columns to a SQL script</span>
</div>
<div style="margin-left: 160px;">
<span style="color: #1f3864;">&#39;sbnjeng30&#39; as [Host]                      --This should be the name of the server the action is targeting</span><br><span style="color: #1f3864;">,&#39;sbnjeng30&#39; as [SA_HOST]           --This should be the name of the SA Server</span><br><span style="color: #1f3864;">,cast(GETDATE() as smalldatetime) as [JobRunTimeKey]</span><br><span style="color: #1f3864;">,NEWID() as [rowGUID]</span><br><span style="color: #1f3864;">,NEWID() as [RowKey]</span>
</div>
<p>               </p>
<div style="margin-left: 80px;"> <br><strong><span style="color: #1f3864;">Source Table Example:  </span></strong>
</div>
<div style="margin-left: 80px;"><img src="https://nwxcorp--c.na147.content.force.com/sfc/dist/version/download/?oid=00D7000000091pB&amp;ids=0684u00000LcZif&amp;d=%2Fa%2F4u000000Lyu4%2FeoxgX2VY7rO.J1zTeaz4VrAQBob0OUH4mYBNkv5ws1Q&amp;asPdf=false" alt="mceclip0.png"></img></div>
<p> <br>               <br><br><br> <br><strong><span style="color: #1f3864;"><span style="font-size: 16pt;">Results</span></span></strong><br><span style="color: #1f3864;">After running an action, several tables are created based on the name of your source table.  </span><br> </p>
<div style="margin-left: 40px;">
<strong><span style="color: #1f3864;"><span style="font-size: 12pt;">StealthAUDIT Interface</span></span></strong><br><span style="color: #1f3864;">Two tables will appear in the results node of your job</span>
</div>
<div style="margin-left: 40px;"><img src="https://nwxcorp--c.na147.content.force.com/sfc/dist/version/download/?oid=00D7000000091pB&amp;ids=0684u00000LcaYR&amp;d=%2Fa%2F4u000000Lyu9%2F1W2_mqwicUFxcG3kX2qXjB4Ks63C5DZPYL9.UnvRdmc&amp;asPdf=false" alt="mceclip1.png"></img></div>
<p> </p>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;"></span></strong><br><span style="color: #1f3864;">Contains individual results for each item acted upon during an action execution.  </span><br><span style="color: #1f3864;">(This is the contents of the ActionStatus table.  See below for details.)</span>
</div>
<div style="margin-left: 40px;"> </div>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;"> - Results</span></strong><br><span style="color: #1f3864;">Contains the current source table data joined to the operation and result summary data in the &quot;_Actions_&quot; (see below for details.  </span><br><span style="color: #1f3864;">If your source table no longer contains the matching source data, the results will not show in this view.  </span>
</div>
<p>               </p>
<div style="margin-left: 40px;"> <br><strong><span style="color: #1f3864;"><span style="font-size: 12pt;">SQL Tables</span></span></strong><br><span style="color: #1f3864;">My source table (above) is named SA_CreateUsers_Users</span><br><img src="https://nwxcorp--c.na147.content.force.com/sfc/dist/version/download/?oid=00D7000000091pB&amp;ids=0684u00000LcaYb&amp;d=%2Fa%2F4u000000LyuE%2FdsGiK_WyJ3l2W2go4gtRvDaqAtGSvagQMEnFprdxK1o&amp;asPdf=false" alt="mceclip2.png"></img><br> </div>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;">_Actions</span></strong><br><span style="color: #1f3864;">This table identifies any action that&#39;s been run in a job</span>
</div>
<div style="margin-left: 80px;"><img src="https://nwxcorp--c.na147.content.force.com/sfc/dist/version/download/?oid=00D7000000091pB&amp;ids=0684u00000LcaQj&amp;d=%2Fa%2F4u000000LyuJ%2F0_fRoItOFvOB1oNek7aUeYOYOm47cZHukA4wT9Ee7mI&amp;asPdf=false" alt="mceclip3.png"></img></div>
<div style="margin-left: 40px;"> </div>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;">_Actions_ActionsLog</span></strong><br><span style="color: #1f3864;">Contains execution time, who ran the action, and overall result of each action execution for any action taken against the source table.  </span>
</div>
<div style="margin-left: 80px;"><img src="https://nwxcorp--c.na147.content.force.com/sfc/dist/version/download/?oid=00D7000000091pB&amp;ids=0684u00000LcXQo&amp;d=%2Fa%2F4u000000LyuO%2FXrr7k3exzJfUT6yQzyPUwy.uEpqfsFyzJyYVH4cqpvI&amp;asPdf=false" alt="mceclip4.png"></img></div>
<div style="margin-left: 40px;"> </div>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;">_Actions_ActionsStatus</span></strong><br><span style="color: #1f3864;">Contains individual results for each item acted upon during an action execution. </span>
</div>
<div style="margin-left: 80px;"><img src="https://nwxcorp--c.na147.content.force.com/sfc/dist/version/download/?oid=00D7000000091pB&amp;ids=0684u00000LcaYl&amp;d=%2Fa%2F4u000000LyuT%2Farrllbbg0T2ZuTXbpf93zAu1liBtBMD_TLnTcDXCr5E&amp;asPdf=false" alt="mceclip5.png"></img></div>
<div style="margin-left: 40px;"> <br><br> </div>
<p> </p>
<div style="margin-left: 40px;"><strong><span style="color: #1f3864;"><span style="font-size: 12pt;">AD Action Specific Tables</span></span></strong></div>
<div style="margin-left: 80px;">
<strong><span style="color: #1f3864;">_Actions</span>_AttributeChangesmoen</strong><br><span style="color: #1f3864;">Specific to the AD Action Module, this will house any attribute changes that were made as part of an action</span><br><span style="color: #1f3864;">This table&#39;s srcRowGUID column references objects in the ActionStatus table&#39;s srcRowGUID column.  </span><br> <br><strong><span style="color: #1f3864;">_Actions_GroupMemberChanges</span></strong><br><span style="color: #1f3864;">Specific to the AD Action Module, this will house any attribute changes that were made as part of an action</span><br> <br><strong><span style="color: #1f3864;">_Actions_</span></strong><br><span style="color: #1f3864;">Contains distinguished name of Object that was acted upon, as well as a verbose description of the action taken.  </span><br><span style="color: #1f3864;">This table&#39;s joinRowGUID column references objects in the ActionStatus table&#39;s srcRowGUID column.  </span>
</div>
<p> <br> <br> <br><strong><span style="color: #1f3864;"><span style="font-size: 14pt;">Deleting Objects with AD Actions</span></span></strong></p>
<div style="margin-left: 40px;"><span style="color: #1f3864;">If run interactively, the action module will </span></div>
<ol style="list-style-type: lower-alpha;"><li style="color: #1f3864;margin-left: 0.75in;">Prompt you to enter the password for the account being used to delete objects</li><li style="color: #1f3864;margin-left: 0.75in;">Ask you to type the word &quot;Delete&quot; as a confirmation</li></ol>
<div style="margin-left: 40px;"><span style="color: #203864;">Running a delete action through a scheduled task overrides this additional protection.  </span></div>
<p>               <br><br><strong><span style="color: #1f3864;"><span style="font-size: 14pt;">Roll Back</span></span></strong><br><span style="color: #1f3864;">To use rollback, you have to set the action module to rollback instead of the currently configured action.  </span><br><span style="color: #1f3864;">Unfortunately, saving the action to a rollback setting effectively clears the previously configured action.  </span><br><span style="color: #1f3864;">To alleviate the difficult this creates, you can back up the ActionsTasks.xml from the job directory, and put it back after using the roll back feature.  </span><br><br> </p>
<p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - Action Module - Active Directory;SA - Action Module - File;SA - Action Module - Mailbox;SA - Action Module - PublicFolder;SA - Action Module - Registry;SA - Action Module - SendMail;SA - Action Module - ServiceNow;SA - Action Module - Survey<br><strong><span class="wysiwyg-font-size-large">Legacy Article ID:</span></strong> 1464</p>
</body>
</html>