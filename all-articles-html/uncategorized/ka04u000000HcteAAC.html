<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotfix: SA_7.2_028</title>
    <meta name="article-id" content="ka04u000000HcteAAC">
    <meta name="articlecaseattachcount" content="0">
    <meta name="articlecreatedbyid" content="0054u000006god6AAA">
    <meta name="articlecreateddate" content="2022-02-01T18:28:10.000Z">
    <meta name="articlenumber" content="000006944">
    <meta name="createdbyid" content="0054u000006god6AAA">
    <meta name="createddate" content="2023-05-08T10:09:59.000Z">
    <meta name="firstpublisheddate" content="2022-02-01T18:28:10.000Z">
    <meta name="islatestversion" content="true">
    <meta name="knowledgearticleid" content="kA04u0000000IhVCAU">
    <meta name="knowledge-article-id" content="kA04u0000000IhVCAU">
    <meta name="lastmodifiedbyid" content="0054u000006gSmgAAE">
    <meta name="lastmodifieddate" content="2023-05-08T10:09:59.000Z">
    <meta name="lastpublisheddate" content="2022-02-01T18:28:10.000Z">
    <meta name="meta-description" content="360012217812">
    <meta name="meta-title" content="Hotfix: SA_7.2_028">
    <meta name="ownerid" content="0054u000006god6AAA">
    <meta name="recordtypeid" content="0124u000000UUgLAAW">
    <meta name="urlname" content="6944">
    <meta name="versionnumber" content="1">
    <meta name="website-url" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000IhVCAU.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Hotfix: SA_7.2_028</h1>
    <p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> This is a fix for foreign key constraint errors that show up due to roles changes during a scan.  The DC is attempting to write a permission with a reference to a role which doesn&#39;t exist in the database.  Now the DC validates the roles specified in permissions before attempting to write them, skips writing the permission row with a warning if the validation fails.</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> This is a fix for foreign key constraint errors that show up due to roles changes during a scan. The DC is attempting to write a permission with a reference to a role which doesn&#39;t exist in the database. Now the DC validates the roles specified in permissions before attempting to write them, skips writing the permission row with a warning if the validation fails.<br><br>Error example that is resolved by this hotfix: &quot;Error handling SBSPOSvr permission(2) result notification: fc1f2472-6b27-4672-80c9-257c9037ed1f System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint FK_SA_SPO_SPPermissions_RoleID&quot;. The conflict occurred in database &quot;StealthAudit2&quot;, table &quot;dbo.SA_SPO_SPRoles&quot;&quot;<br><br>Example Warning after fix is installed: &quot;While recording permissions a role was discovered which was added mid scan. The permission has been omitted.&quot;<br><br><br>-SASP-1205\11418<br><br>Customers<br>Novartis Corporation, Allstate<br><br>Cumulative List of fixes included since Service Pack:<br>- SASP-1090/11359, 11363 - Service account access change for private sites<br>- SASP-975 Getting Primary Key constraint when running a collection group for O365<br>- SASP-980 - Fix for OOM errors and DLPTemp folder cleanup</p><p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> Update all files in appropriate directories under SA install Directory.� Restart SA.<br>� 
</p><table style="width: 48pt;" cellspacing="0" cellpadding="0" width="64" border="0"><colgroup><col style="width: 48pt;" width="64"></col></colgroup><tbody><tr style="height: 15pt;" height="20"><td colspan="1" rowspan="1" class="xl65" style="height: 15pt;width: 48pt;" height="20" width="64"><a href="http://downloads.stealthbits.com/access/files/SAHotFixes/7.2/SA_7.2_028.zip" target="_blank">http://downloads.stealthbits.com/access/files/SAHotFixes/7.2/SA_7.2_028.zip</a></td></tr></tbody></table><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - SPO<br><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 7.1, 7.2<br><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SASP-1205<br><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> -SBSPOSvr.exe  7.2.23.505
-SBSPOSvr.exe.config
-DCSharePointOnline.dll 7.2.0.505
-Stealthbits.StealthAUDIT.DataCollectors.SharePointDLP.Common.dll  7.2.16.505
-Stealthbits.StealthAUDIT.DataCollectors.SharePointDLP.dll  7.2.19.505
-Stealthbits.StealthAUDIT.DataCollectors.SharepointDLP.UI.dll  7.2.15.505
-Stealthbits.StealthAUDIT.DataCollectors.DLP.Common.dll  7.2.15.505<br><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 1415<br></p>
</body>
</html>