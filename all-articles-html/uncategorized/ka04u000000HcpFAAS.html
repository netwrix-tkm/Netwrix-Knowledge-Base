<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotfix: SA_8.1_036</title>
    <meta name="article-id" content="ka04u000000HcpFAAS">
    <meta name="articlecaseattachcount" content="0">
    <meta name="articlecreatedbyid" content="0054u000006god6AAA">
    <meta name="articlecreateddate" content="2022-02-01T18:25:32.000Z">
    <meta name="articlenumber" content="000006752">
    <meta name="createdbyid" content="0054u000006god6AAA">
    <meta name="createddate" content="2023-05-08T10:07:58.000Z">
    <meta name="firstpublisheddate" content="2022-02-01T18:25:33.000Z">
    <meta name="islatestversion" content="true">
    <meta name="knowledgearticleid" content="kA04u0000000IW9CAM">
    <meta name="knowledge-article-id" content="kA04u0000000IW9CAM">
    <meta name="lastmodifiedbyid" content="0054u000006gSmgAAE">
    <meta name="lastmodifieddate" content="2023-05-08T10:07:58.000Z">
    <meta name="lastpublisheddate" content="2022-02-01T18:25:33.000Z">
    <meta name="meta-description" content="360012217852">
    <meta name="meta-title" content="Hotfix: SA_8.1_036">
    <meta name="ownerid" content="0054u000006god6AAA">
    <meta name="recordtypeid" content="0124u000000UUgLAAW">
    <meta name="urlname" content="6752">
    <meta name="versionnumber" content="1">
    <meta name="website-url" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000IW9CAM.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Hotfix: SA_8.1_036</h1>
    <p><strong><span class="wysiwyg-font-size-large">Summary:</span></strong> FSAA scan fails for NAS devices with scan set to applet mode</p><p><strong><span class="wysiwyg-font-size-large">Issue:</span></strong> <strong><span style="font-family: calibri,sans-serif;">Summary: FSAA scan fails for NAS devices with scan set to applet mode</span></strong><br><br><strong><span style="font-family: calibri,sans-serif;">Before Fix: </span></strong>FSAA assumes every target host is a Windows host.<br><br><strong><span style="font-family: calibri,sans-serif;">After Fix: </span></strong>New functionality is to check if the target host is a Windows host, and if it is, applet will be deployed to the target host. Host is determined to be a Windows host based on the OSType value in Host Management (contains &#39;Windows&#39;)<br><br><strong><span style="font-family: calibri,sans-serif;">YouTrack/Escalations</span></strong><br>�<br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14802/23668</span></strong><br>�<br><strong><span style="font-family: calibri,sans-serif;">Customers</span></strong> 
</p><ul><li><strong><span style="font-family: calibri,sans-serif;">KBR, Inc. (Kellogg Brown &amp; Root LLC)</span></strong></li></ul>�<br><strong><span style="font-family: calibri,sans-serif;">Cumulative List of fixes included since Service Pack:</span></strong><br>-������������� SAFS-14545 SDD Bulk Import clearing tier 1 data prior to checking if DLPEX db exists<br>-������������� SAFS-14541 Remove Description in FSAAConfig.xml<br>-������������� SAFS-14548 FSAC Bulk Import performance issue<br>-������������� SAFS-2705 15281 - FSAA unspecified error<br>-������������� SAFS-14573 22741 - FSAA Migration Query 7.2 to 8.0 Duplicate Column Error<br>-������������� SAFS-14598 22741 - FSAA Migration Query 7.2 to 8.0 Could not convert variant of type (Null) into type (Integer)<br>-������������� SAFS-14593 Update bulk import to not delete Activity and DLPEX tier 2 dbs.<br>-������������� SAFS-2707 19757 - FSAC Bulk Import Rollback Due to Unspecified Error<br>-������������� SAFS-14595 22840 - There is an error in XML document (0, 0). ---&gt; System.OverflowException: Value was either too large or too small for an Int32.<br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14633 Update FSAA to not delete DLPEX db when streaming</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14566 Update FSAA to pass parameters to SDD</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14672 FSAC Access Violation on scans</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14685 Access violation when cancelling streaming FSAA scan due to timeout or DC-side streaming error</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14596 22751 - Access Violation with FSAA Scan v8.1</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14483 22116 - Do Not Delete Activity Data Automatically (8.1+ Implementation)</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14723 NFS Scans Don&#39;t Scan Subfolders when &quot;Limit Subfolder Depth&quot; is checked</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14720 23415 - DFS Collection: FSAA.FSAAException: Unable to determine domain: 5</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14670 23199 - FSAA doesn&#39;t throw error when service account doesn&#39;t have enough permission to scan shares.</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14688 Applet log level of &quot;None&quot; sends all log messages to StealthAUDITRPC.exe trace log file</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14677 22992/22994 - FSAA automatically clean up old files.</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-2771 20689 - Error during storing DailyActivity: &#39;&#39; is not a valid integer value</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14735� Rename streaming database to include scan type</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14738 Error when scanning with System default profile.</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-2173 14049 - Downgrade/Eliminate NetApp OnTap 9 Warnings</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14757 Improve DFS error messages and diagnostic logging; only enumerate domain namespaces on domain controllers</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14719 23412 - FSAA collection error: (0x80004005): SQL logic error or missing database no such table: TBL_FSAA_Sequence</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14767 23670 - Connect to SQL server before connection profile impersonation</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14748 23546 - Retry timeout exceeded</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14616� 20970 - The INSERT statement conflicted with the FOREIGN KEY constraint &quot;FK_SA_FSAC_ActivityEvents_New_PathID&quot; (8.1+ Implementation).</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14656� 23094 - Strip trailing spaces from shares&#39; landing folders</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-2957 21750 - FSAA | Skip IPC$ check in applet mode</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14607� 22956/23113 - Waiting for Parser Queue to be Empty</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14809 Automatic procdump functionality in FSAA applet can cause access violations after scan completes</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14597 Add RPC_IF_ALLOW_CALLBACKS_WITH_NO_AUTH and auth callback even if not using secure RPC to permit working with RestrictRemoteClients=1</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14792 Fix &#39;Object Reference Not Set To Instance of an Object&#39; Error in FSAC scans</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14803� FSAC: Add option of maximum days of activity to scan at once</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14848 TxtForAllFiles option not being passed correctly to SDD (8.1)</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14800 23738 - SDD Scoping to folders</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14841� License file should not be directly copied to remote hosts</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-2692 19369/19531 - FSAA | Shares Marked as Deleted When Access to Enumerate Shares is Revoked</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14824 20963 - FSAA Failed to Copy Tier 2: Prop db was being compressed during non-permission scans</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14921� FSAA scans throws a null reference exception when access is denied on the target host</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14898 FSAC Scans not cycling through proxies</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14888 24391 - Foreign Key Constraint Violation</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14854 24061 - FSAC scan does not create _suspend.xml properly</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14966� Fix race condition when creating tier 1 schema in FSAA DC</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14946� 24764 - SEEK streaming doesn&#39;t populate gates proxy ID for files</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14973 FSAA: &quot;Created&quot; column is missing from Resources table when schema is created from DC</span></strong><br>�<br><strong><span style="font-family: calibri,sans-serif;">Changes since last Hotfix</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14978� Update FSAA scan and bulk import so that create schema is run in the background</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14943 24731 - Update Proxy Service Query Fails</span></strong><br><strong><span style="font-family: calibri,sans-serif;">-������������� SAFS-14802 23668 - FSAA scan fails for NAS devices with scan set to applet mode</span></strong><br>�<br><b>Comments:</b><br><strong><span style="color: red;"><span style="font-family: calibri,sans-serif;">THIS HOTFIX REQUIRES AT LEAST HOTFIX SDD_8.1_002 TO BE INSTALLED IF USING SDD.</span></span></strong><br><a href="https://na55.salesforce.com/articles/General/Hotfix-SDD-8-1-002" target="_blank">https://na55.salesforce.com/articles/General/Hotfix-SDD-8-1-002</a><br><br><b><span style="font-size: 14pt;">Please note this change impacts the &quot;Automatic&quot; option in FSAA. </span></b><br>In SA 8.0 and prior, functionality was to check if the target host is a NAS device, and if it was, the applet would be deployed in local mode. This was done by checking the OSName, OSType, Manufacturer, and Model values in Host Management.<br>New functionality going forward in 8.1+ is to check if the target host is a Windows host, and if it is, applet will be deployed to the target host. This is done by checking just the OSType value in Host management to see if it contains &#39;%windows%&#39; (case insensitive).<br><br>�<p><strong><span class="wysiwyg-font-size-large">Instructions:</span></strong> </p><ol><li>Unblock the hotfix zip file in the windows property dialog, if an unblock button exists there.�
</li><li>Close all instances of StealthAUDIT (check task manager under processes for all users)
</li><li>
<strong><span style="font-family: calibri,sans-serif;">Update all DC files in your %SAInstallDir%DC folder</span></strong>
</li><li>
<strong><span style="font-family: calibri,sans-serif;">Update all PrivateAssemblies in your %SAInstallDir%PrivateAssemblies folder.</span></strong>
</li><li><strong><span style="font-family: calibri,sans-serif;">Launch StealthAUDIT. Run the &#39;Update Proxy Service&#39; query under the Maintenance tab in the FSAA data collector against your proxy servers (if running proxy service).</span></strong></li></ol>
<div>� 
<table cellspacing="0" cellpadding="0" width="64" border="0"><tbody><tr height="62"><td colspan="1" rowspan="1" height="62" width="64"><a href="https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_036.zip" target="_blank">https://downloads.stealthbits.com/access/files/SAHotFixes/8.1/SA_8.1_036.zip</a></td></tr></tbody></table>
</div><p><strong><span class="wysiwyg-font-size-large">Product:</span></strong> StealthAUDIT<br><strong><span class="wysiwyg-font-size-large">Module:</span></strong> SA - DC - FSAA - Activity;SA - DC - FSAA - DFS;SA - DC - FSAA - Permissions<br><strong><span class="wysiwyg-font-size-large">Versions:</span></strong> 8.1<br><strong><span class="wysiwyg-font-size-large">Dev Ticket:</span></strong> SAFS-14978, SAFS-14943, SAFS-14802<br><strong><span class="wysiwyg-font-size-large">Resolved In:</span></strong> -	DCFSAA.dll							8.1.930
-	FSAASrv.dll							8.1.930
-	Stealthbits.StealthAUDIT.DataCollectors.FSAA.dll		8.1.930

Other dependencies included:
-	StealthAUDITRPC.exe					8.1.102
-	StealthAUDITRPCClient.dll					8.1.102
-	Stealthbits.StealthAUDIT.DataCollectors.FSAA.RPCClient.dll	8.1.0
-	Stealthbits.StealthAUDIT.DataCollectors.dll			8.1.58
-	INIFileParser.dll						2.5.2
-	FSAAConfig.xml\<br><strong><span class="wysiwyg-font-size-large">Salesforce Article ID:</span></strong> 1923<br></p>
</body>
</html>