<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Microsoft Entra ID as an Authentication Connector (OpenID Connect)</title>
    <meta name="article-id" content="ka0Qk000000DtGPIA0">
    <meta name="articlecaseattachcount" content="0">
    <meta name="articlecreatedbyid" content="0050g000006ati4AAA">
    <meta name="articlecreateddate" content="2021-10-12T13:03:06.000Z">
    <meta name="articlenumber" content="000005910">
    <meta name="article-drafts-folder" content="https://nwxcorp.sharepoint.com/sites/TechnicalSupportOperations/Shared%20Documents/Technical%20Knowledge%20Management/Salesforce%20Knowledge%20Drafts/kA04u0000000HRCCA2">
    <meta name="confidence-level" content="Not Validated">
    <meta name="createdbyid" content="0050g000006ati4AAA">
    <meta name="createddate" content="2025-05-13T19:31:49.000Z">
    <meta name="draft-status" content="Ready to Publish">
    <meta name="firstpublisheddate" content="2021-10-12T13:39:03.000Z">
    <meta name="islatestversion" content="true">
    <meta name="knowledgearticleid" content="kA04u0000000HRCCA2">
    <meta name="knowledge-article-id" content="kA04u0000000HRCCA2">
    <meta name="lastmodifiedbyid" content="0054u000008icp2AAA">
    <meta name="lastmodifieddate" content="2025-05-13T19:44:43.000Z">
    <meta name="lastpublisheddate" content="2025-05-13T19:44:43.000Z">
    <meta name="meta-description" content="Add Azure Active Directory as an Authentication Connector (OpenID Connect)">
    <meta name="meta-title" content="Add Azure Active Directory as an Authentication Connector (OpenID Connect)">
    <meta name="ownerid" content="0054u000008icp2AAA">
    <meta name="recordtypeid" content="0124u000000UUgLAAW">
    <meta name="urlname" content="5910">
    <meta name="versionnumber" content="4">
    <meta name="website-url" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000HRCCA2.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Add Microsoft Entra ID as an Authentication Connector (OpenID Connect)</h1>
    <h2>Overview</h2>
<p>This article outlines the process of adding Microsoft Entra ID (formerly Azure AD) to Netwrix Privilege Secure as an Authentication Connector via OpenID Connect (OIDC). The article is divided into two sections: <strong><a href="#steps-for-microsoft-entra-id">Steps for Microsoft Entra ID</a></strong> and <strong><a href="#steps-for-netwrix-privilege-secure">Steps for Netwrix Privilege Secure</a></strong>. Complete the Microsoft Entra ID section first.</p>
<h2>Instructions</h2>
<h4 id="steps-for-microsoft-entra-id">Steps for Microsoft Entra ID</h4>
<p>Perform the following steps in Microsoft Entra ID as an administrator to prepare an app registration for use with Netwrix Privilege Secure.</p>
<ol><li>Navigate to <a href="https://portal.azure.com/" target="_blank">https://portal.azure.com/</a> and sign in to Microsoft Entra ID as an administrator. Create an Enterprise Application.</li><li>Click <strong>Azure Active Directory</strong> from the left sidebar, then click <strong>App Registrations</strong>. Next, click <strong>New Registration</strong> near the top of the page.</li><li>Enter a name for the app. For <strong>Redirect URI</strong>, enter the following, replacing <em>your-sbpam-server-hostname</em> with the hostname of your Netwrix Privilege Secure server:
<pre class="has-inner-focus">https://your-sbpam-server-hostname:6500/callback</pre>
<img alt="App registration page with Redirect URI field highlighted" height="73" width="500" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUjf"></img></li><li>Click <strong>Register</strong>. After registration completes, you will be redirected to the new app&#39;s <strong>Overview</strong> page.</li><li>In the left sidebar, click <strong>Authentication</strong>. Scroll down and enter the same <strong>Callback Address</strong> from Step 3 in the <strong>Front-channel logout URL</strong> field.<br>Enable the following checkboxes:
<ul><li><strong>Access tokens (used for implicit flows)</strong></li><li><strong>ID tokens (used for implicit and hybrid flows)</strong></li></ul>
<img alt="Authentication settings with token options enabled" height="238" width="500" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUjk"></img></li><li>Click <strong>Save</strong> at the top of the page, then return to the app&#39;s <strong>Overview</strong> page.</li><li>Click <strong>Endpoints</strong> near the top of the page. Copy the <strong>OpenID Connect metadata document</strong> URL and open it in a new browser tab.<br>This will display JSON data. To make it easier to read, consider using a JSON browser extension such as <strong>JSON Formatter</strong> for Chromium-based browsers.</li><li>While viewing the JSON data, find the <strong>Issuer</strong> key. <strong>Copy only the value between the forward slashes</strong>, not the entire line. In this case, it will be a URL.<br>For example:
<pre class="has-inner-focus">https://login.microsoftonline.com/&lt;IssuerKey&gt;/v2.0</pre>
</li><li>Close the <strong>Endpoints</strong> sidebar and save the <strong>Application (client) ID</strong> from the <strong>Overview</strong> page.</li></ol>
<h4 id="steps-for-netwrix-privilege-secure">Steps for Netwrix Privilege Secure</h4>
<p>After completing the <strong>Steps for Microsoft Entra ID</strong>, perform the following steps in Netwrix Privilege Secure to add Microsoft Entra ID as an Authentication Connector via OpenID Connect (OIDC).</p>
<ol><li>As a Netwrix Privilege Secure administrator, navigate to <strong>Configuration &gt; Authentication</strong> and click the green <strong>+</strong> button to add a new Authentication Connector.</li><li>Enter a name and (optionally) a description for the new connector. Set the <strong>Connector Type</strong> to <strong>OpenID Connect</strong>. <img alt="Authentication Connector creation dialog with OpenID Connect selected" height="118" width="500" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUjp"></img></li><li>Click <strong>Configuration Wizard</strong>.</li><li>On the wizard&#39;s <strong>Configure Client</strong> page, enter the <strong>Issuer</strong> and <strong>Client ID</strong> (from the <strong>Steps for Microsoft Entra ID</strong>) in the respective fields. <img alt="Configure Client page with Issuer and Client ID fields" height="238" width="500" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUju"></img></li><li>Click <strong>Test Connection</strong>.<br>On the Microsoft Entra ID sign-in page that loads, <strong>do not sign in</strong>. Once you have verified that the sign-in page loaded properly, click the back button in your browser to return to Netwrix Privilege Secure. The connection test is successful if Microsoft Entra ID did not display an error.</li><li>Click <strong>Next</strong> to advance in the Authentication Connector Configuration Wizard. You will now be on the <strong>Test Login</strong> page.</li><li>Click <strong>Login</strong> and sign in as any Microsoft Entra ID user (this does not need to be an administrator). You will be prompted to accept the app&#39;s requested permissions. Check <strong>Consent on behalf of your organization</strong> and click <strong>Accept</strong>. <img alt="Microsoft Entra ID permissions consent dialog" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUjz"></img></li><li>Click <strong>Next</strong> in the wizard. You will now be on the <strong>Configure Id Mapping</strong> page.</li><li>Click <strong>Get User Data</strong>.<br>Netwrix Privilege Secure will use the access token to retrieve user data from the OpenID Connect provider. The OpenID Connect provider requires a User Id Field for sign-in.<br>Specify which field in Active Directory should map to that User Id Field, so that Netwrix Privilege Secure can automatically fill in the required credentials at login. The value provided is used to sign in to the multi-factor authenticator (MFA) when a user logs in to the Netwrix Privilege Secure Console.<br>To connect a user from the OpenID Connect provider to a user in the Netwrix Privilege Secure copy of the AD data, map a field in the provider list to a field in the Netwrix Privilege Secure host user table. The exact fields to map will vary between providers and according to the userï¿½s AD configuration.<br>The table displays the retrieved data that can be used for the host user lookup. Select from the displayed records a field that corresponds to a value in your AD configuration. For example, if the AD data contains email addresses, select any of the fields that contain email addresses.<br><strong>There must be a property for each user in on-premises Active Directory and Microsoft Entra ID that matches. Often, this is an email address.</strong>
<blockquote>
<p><span class="Caution"><strong>IMPORTANT: </strong></span>Make sure to use a field that has an <strong>ID TOKEN</strong> source, rather than <strong>ACCESS TOKEN</strong>.</p>
</blockquote>
<img alt="User data mapping table with ID Token source highlighted" height="162" width="500" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUk9"></img>
<p>Once the desired field has been found, click on it and then click <strong>Select</strong>.</p>
</li><li>You will now be back in the Authentication Connector Configuration Wizard, on the <strong>Configure Id Mapping</strong> page. Make sure the <strong>Login Format</strong> dropdown matches the ID Token field selected from Microsoft Entra ID in the previous step.<br>For example, if you chose <strong>Email</strong> for the field in the previous step, then this dropdown should also be <strong>Email Address</strong>. <img alt="Login Format dropdown with Email Address selected" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUkE"></img></li><li>Click <strong>Finish</strong> on the summary modal, and then <strong>Save</strong> for the authentication connector.</li><li>You can now assign this authentication connector to a user via the <strong>Authentication Connector</strong> tab for a user accessed in Netwrix Privilege Secure&#39;s <strong>Users &amp; Groups</strong> page. <img alt="Authentication Connector assignment in Users &amp; Groups page" height="273" width="500" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUkJ"></img> <br>Users with this authentication connector assignment can now use this authentication connector option on the Netwrix Privilege Secure log-in screen. <img alt="Netwrix Privilege Secure login screen with OpenID Connect option" src="https://nwxcorp.file.force.com/servlet/rtaImage?eid=ka0Qk000000DtGP&amp;feoid=00N0g000004CA0p&amp;refid=0EM4u000004bUkO"></img> <br>When using the OpenID Connect log-in option, the user will be redirected to sign in to Microsoft Entra ID. Upon successful authentication, the user will be redirected to the Netwrix Privilege Secure UI as their signed-in user.</li></ol>
</body>
</html>