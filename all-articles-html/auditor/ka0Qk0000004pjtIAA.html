<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive Service is Busy Processing Activity Records</title>
    <meta name="article-id" content="ka0Qk0000004pjtIAA">
    <meta name="articlecaseattachcount" content="1">
    <meta name="articlecreatedbyid" content="0050g000006ati4AAA">
    <meta name="articlecreateddate" content="2022-03-03T12:07:19.000Z">
    <meta name="articlenumber" content="000008386">
    <meta name="confidence-level" content="Validated">
    <meta name="createdbyid" content="0050g000006ati4AAA">
    <meta name="createddate" content="2024-07-30T08:30:28.000Z">
    <meta name="firstpublisheddate" content="2022-03-03T12:07:24.000Z">
    <meta name="islatestversion" content="true">
    <meta name="knowledgearticleid" content="kA04u0000000JuQCAU">
    <meta name="knowledge-article-id" content="kA04u0000000JuQCAU">
    <meta name="lastmodifiedbyid" content="0054u000008ic83AAA">
    <meta name="lastmodifieddate" content="2024-07-30T08:31:14.000Z">
    <meta name="lastpublisheddate" content="2024-07-30T08:31:14.000Z">
    <meta name="meta-description" content="Archive Service is busy processing activity records">
    <meta name="meta-title" content="Archive Service is busy processing activity records">
    <meta name="ownerid" content="0050g000006ati4AAA">
    <meta name="recordtypeid" content="0124u000000UUgLAAW">
    <meta name="urlname" content="8386">
    <meta name="versionnumber" content="5">
    <meta name="website-url" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000JuQCAU.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Archive Service is Busy Processing Activity Records</h1>
    <h2>Symptom</h2>

<div>
<p>Netwrix Auditor prompts the following error in one of your monitoring plans:</p>

<pre class="has-inner-focus">
<code class="lang-Registry">Data collection has failed.
Error: The Netwrix Auditor Archive Service is busy processing activity records</code></pre>
</div>

<h2>Causes</h2>

<div>
<p>Auditor collects data faster than it transfers data from the Short-Term Storage to the SQL Server instance or the Long-Term Archive. Refer to the following commonly associated causes:</p>

<ul><li>
	<p>SQL Server-based causes:</p>

	<ul><li>
		<p>The SQL Server Express database size reached 10�GB.</p>
		</li><li>
		<p>SQL Server connection issues.</p>
		</li></ul>
	</li><li>
	<p>Long-Term Archive-based causes:</p>

	<ul><li>
		<p>Long-Term Archive connection issues.</p>
		</li></ul>
	</li></ul>

<blockquote>
<p><span style="color: #ff0000;"><strong>IMPORTANT: </strong></span>Auditor prompts the error once the amount of Activity Records in the Short-Term Storage has reached 5 million.</p>
</blockquote>
</div>

<h2>Troubleshooting</h2>

<h4>SQL Server-based Causes</h4>

<div>
<p>Refer to the following steps to troubleshoot the SQL Server-based causes:</p>

<ol><li>
	<p>Review the <strong>Database Statistics</strong> screen:</p>

	<ol><li>
		<p>In the main Auditor screen, select <strong>Health Status</strong> and click <strong>View details</strong> in the <strong>Database Statistics</strong> pane.</p>
		</li><li>
		<p>Review the database states. If a database state reads <strong>Failed to store data</strong>, review the database details.</p>

		<blockquote>
		<p><span style="color: #ff0000;"><strong>IMPORTANT: </strong></span>The SQL Server Express databases have a 10�GB size limit. In case the affected database states <strong>Failed to store data</strong> with the size limit of <strong>10�GB</strong>, refer to the following article: <a href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110wRCAQ.html" target="_self">SQL Server Express Database Size Reached 10GB</a>.</p>
		</blockquote>
		</li><li>
		<p>If multiple or all databases state <strong>Failed to store data</strong> with no size limits, refer to the following troubleshooting steps.</p>
		</li></ol>
	</li><li>
	<p>Verify that the SQL Server instance is available.</p>
	</li><li>
	<p>Verify the credentials of the SQL Server instance account:</p>

	<ol><li>
		<p>In the main Auditor screen, select <strong>Settings</strong> &gt; <strong>Audit Database</strong>.</p>
		</li><li>
		<p>Click <strong>Modify</strong> under the <strong>Audit Database Settings</strong> section.</p>
		</li><li>
		<p>Verify the account credentials and the authentication method. Click <strong>Next</strong> &gt; <strong>Finish</strong> to complete the setup.</p>
		</li></ol>
	</li><li>
	<p>Optional�Verify the credentials of the custom SQL Server settings for the affected monitoring plan:</p>

	<ol><li>
		<p>In the left pane of the affected monitoring plan, select <strong>Edit settings</strong> under the <strong>Monitoring plan</strong> section.</p>
		</li><li>
		<p>In the <strong>Audit Database</strong> tab, review the custom connection parameters if set. Verify the authentication method and the credetials used.</p>
		</li><li>
		<p>Click <strong>Save &amp; Close</strong> to save changes.</p>
		</li></ol>
	</li></ol>
</div>

<h4>Long-Term Archive-based Causes</h4>

<div>
<p>Refer to the following steps to troubleshoot the Long-Term Archive-based causes:</p>

<ol><li>
	<p>Verify that the Long-Term Archive can be accessed. Review the Long-Term Archive path in <strong>Settings</strong> &gt; <strong>Long-Term Archive</strong>.</p>
	</li><li>
	<p>If using a custom account to connect to the Long-Term Account, verify the credentials of the account used:</p>

	<ol><li>
		<p>In the main Auditor screen, select <strong>Settings</strong> &gt; <strong>Long-Term Archive</strong>.</p>
		</li><li>
		<p>Click <strong>Modify</strong> under the <strong>Location and Retention Settings</strong> section.</p>
		</li><li>
		<p>Verify the account credentials. Click <strong>OK</strong> to save the changes.</p>
		</li></ol>
	</li><li>
	<p>If using a custom account to connect to the Long-Term Account, assign the permissions to the account used. Refer to the following article for additional information on required permissions: <a href="https://helpcenter.netwrix.com/bundle/Auditor_10.6/page/Content/Auditor/Requirements/LongTermArchive.htm#assign_permissions_on_the_longterm_archive_folder" target="_self">File-Based Repository for Long-Term Archive � Assign Permissions on the Long-Term Archive Folder � v10.6</a>.</p>
	</li></ol>
</div>

<h4>Other Causes</h4>

<div>
<p>Verify that the Audit Database account has the correct permissions�refer to the following article for additional information: <a href="https://helpcenter.netwrix.com/bundle/Auditor_10.6/page/Content/Auditor/Requirements/SQLServer.htm#configure_audit_database_account" target="_self">Requirements for SQL Server to Store Audit Data � Configure Audit Database Account � v10.6</a>.</p>
</div>

<h2>Related Articles</h2>

<div>
<ul><li>
	<p><a href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110wRCAQ.html" target="_self">SQL Server Express Database Size Reached 10GB</a></p>
	</li><li>
	<p><a href="https://helpcenter.netwrix.com/bundle/Auditor_10.6/page/Content/Auditor/Requirements/SQLServer.htm#configure_audit_database_account" target="_self">Requirements for SQL Server to Store Audit Data � Configure Audit Database Account � v10.6</a></p>
	</li><li>
	<p><a href="https://helpcenter.netwrix.com/bundle/Auditor_10.6/page/Content/Auditor/Requirements/LongTermArchive.htm#assign_permissions_on_the_longterm_archive_folder" target="_self">File-Based Repository for Long-Term Archive � Assign Permissions on the Long-Term Archive Folder � v10.6</a></p>
	</li></ul>
</div>
</body>
</html>