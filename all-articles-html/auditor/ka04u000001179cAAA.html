<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invalid Character Value for Cast Specification Error Occurs When Trying to Store Audit Data</title>
    <meta name="article-id" content="ka04u000001179cAAA">
    <meta name="articlecaseattachcount" content="0">
    <meta name="articlecreatedbyid" content="0050g000006HS99AAG">
    <meta name="articlecreateddate" content="2023-08-03T10:56:09.000Z">
    <meta name="articlenumber" content="000008708">
    <meta name="createdbyid" content="0050g000006HS99AAG">
    <meta name="createddate" content="2023-08-14T14:07:16.000Z">
    <meta name="firstpublisheddate" content="2023-08-03T16:13:31.000Z">
    <meta name="islatestversion" content="true">
    <meta name="knowledgearticleid" content="kA04u00000110zLCAQ">
    <meta name="knowledge-article-id" content="kA04u00000110zLCAQ">
    <meta name="lastmodifiedbyid" content="0050g000006HS99AAG">
    <meta name="lastmodifieddate" content="2023-08-14T14:14:56.000Z">
    <meta name="lastpublisheddate" content="2023-08-14T14:14:56.000Z">
    <meta name="meta-description" content="This article contains resolution steps for the &quot;Invalid Character Value for cast specification&quot; error.">
    <meta name="meta-title" content="The &quot;Invalid Character Value for cast specification&quot; error occurs when trying to store audit data">
    <meta name="ownerid" content="0050g000006HS99AAG">
    <meta name="recordtypeid" content="0124u000000UUgLAAW">
    <meta name="urlname" content="8708">
    <meta name="versionnumber" content="4">
    <meta name="website-url" content="&lt;a href=&quot;https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u00000110zLCAQ.html&quot; target=&quot;_blank&quot;&gt;Open in a new window&lt;/a&gt;">
</head>
<body>
    <h1>Invalid Character Value for Cast Specification Error Occurs When Trying to Store Audit Data</h1>
    <h1>Symptom</h1>

<div>
<p>Netwrix Auditor fails to store audit data although there is adequate space on the database and archive locations. During the data collection, the following error occurs:</p>

<pre class="has-inner-focus">
Invalid Character Value for cast specification.</pre>
</div>

<h1>Cause</h1>

<div>
<p>This error usually appears for big databases created on earlier versions of Netwrix Auditor (9.9 and older).</p>
</div>

<h1>Resolution</h1>

<div>
<p>The source of the issue was resolved in newer versions, and since you are on 9.96 and above, select one of the workarounds below, whichever is more comfortable for you.</p>

<p><span style="color: #2980b9;"><strong>NOTE: </strong></span> Netwrix recommends upgrading to the latest version to avoid database issues.</p>
</div>

<div>
<ol><li>
	<p><b>Resolution 1</b></p>

	<p>Create a new database for the monitoring plan to write data to.</p>

	<ul><li>
		<p>Check which exactly databases are affected. For that, in Netwrix Auditor, go to <b>Health Status</b> dashboard -&gt; <b>Database Statistics</b>.</p>
		</li><li>
		<p>Find the plan that is writing to the affected database and click <b>Edit</b>.</p>
		</li><li>
		<p>On the <b>Audit Database</b> tab, provide a new name under <b>Database:</b>, so a new one is created, and the plan starts writing to it.</p>
		</li></ul>

	<p>Data will not be lost, since the old database will remain in the SQL instance, and also all collected data can always be imported from the Long-Term Archive.</p>

	<p>You can import previously collected data you need to run reports for the desired period of time using the <b>Investigations</b> feature.</p>

	<ol><li>
		<p>In Netwrix Auditor, go to <b>Settings</b> -&gt; <b>Investigations</b> -&gt; <b>Configure</b>.</p>
		</li><li>
		<p>Select a data source, check the desired monitoring plan, and set the dates.</p>
		</li><li>
		<p>Click <b>Run</b>.</p>
		</li></ol>

	<p>For additional information on how to import previously collected data, refer to the following article: <a href="https://helpcenter.netwrix.com/bundle/Auditor_10.5/page/Content/Auditor/Admin/Settings/Investigations.htm" target="_blank">Investigations</a>.</p>
	</li><li>
	<p><b>Resolution 2</b>.</p>

	<p>If the previously collected data is accessible from the problematic database (check using Search filtered for the corresponding monitoring plan), create an empty plan with no Data sources and attach it to the old database for Netwrix Auditor to have access to the data in the database.</p>

	<p>You can review the data already collected for the past 180 days (assuming database retention settings in Netwrix Auditor are as by default).</p>

	<p>After the database retention period passes, you will be able to remove the old database from the SQL Server completely and will not need this empty plan anymore (stale data would be cleared according to database retention settings, and all the current data will be in the new database).</p>
	</li></ol>
</div>

<div><span style="color: #c0392b;"><strong>IMPORTANT:</strong></span> If, after these workarounds, you will have the <em>Archive Service is busy processing activity records</em> error, refer to the following article: <a href="https://helpcenter.netwrix.com/bundle/z-kb-articles-salesforce/page/kA04u0000000JuQCAU.html" target="_blank">Archive Service is busy processing activity records</a>.

<p>ï¿½</p>
</div>
</body>
</html>